<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Foguinho DiÃ¡rio</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <h1>ğŸ”¥ Foguinho DiÃ¡rio</h1>

    <section class="controls">
      <label for="speakText">O que queres dizer?</label>
      <textarea id="speakText" rows="3" placeholder="Escreve algo para falar...">Acendi o foguinho! ğŸ”¥</textarea>

      <div class="buttons">
        <button id="speakBtn">ğŸ—£ï¸ Falar</button>
        <button id="lightBtn">ğŸ”¥ Acender Foguinho</button>
        <button id="registerDayBtn" title="Registar o dia e atualizar sequÃªncia">ğŸ“… Registar Dia</button>
      </div>

      <p class="hint">Ao registar o dia, a sequÃªncia (streak) atualiza. Abre a app diariamente para manter o streak.</p>
    </section>

    <section class="streak">
      <h2>SequÃªncia diÃ¡ria</h2>
      <div id="flamesContainer" class="flames"></div>
      <div class="streak-info">
        <span id="streakCount">Streak: 0 dias</span>
        <span id="lastDate">Ãšltimo registo: â€”</span>
      </div>
    </section>

    <footer>
      <small>App simples â€” offline + usa Firebase Analytics</small>
    </footer>
  </main>

  <!-- CÃ³digo do Firebase (modular via CDN) e app.js -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics.js";

    // --- CONFIGURAÃ‡ÃƒO DO FIREBASE (substitui pelas tuas credenciais jÃ¡ dadas) ---
    const firebaseConfig = {
      apiKey: "AIzaSyBI_4n8aBT9ZPiLy8cwgiQDtD0_CYSKk4E",
      authDomain: "videot-2fcec.firebaseapp.com",
      projectId: "videot-2fcec",
      storageBucket: "videot-2fcec.firebasestorage.app",
      messagingSenderId: "583396995831",
      appId: "1:583396995831:web:6182575e28ea628cc259f2",
      measurementId: "G-2ERH0XEGSX"
    };

    const app = initializeApp(firebaseConfig);
    // O getAnalytics pode falhar em ambientes sem suporte (ex: file://) â€” tratamos safe.
    try {
      getAnalytics(app);
      console.log('Firebase Analytics inicializado.');
    } catch (e) {
      console.warn('Analytics nÃ£o disponÃ­vel neste ambiente:', e?.message ?? e);
    }

    // Exportamos a app para o script principal poder usar (opcional)
    window.__FIREBASE_APP = app;
  </script>

  <script src="app.js"></script>
</body>
</html>
