<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Foguinho Social</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <!-- SPLASH / AUTH -->
    <section id="authScreen" class="card center">
      <h1>Foguinho</h1>
      <p class="muted">Rede privada por convite â€” acende o teu foguinho ðŸ”¥</p>

      <div id="authTabs" class="tabs">
        <button data-tab="login" class="tab active">Entrar</button>
        <button data-tab="signup" class="tab">Registar</button>
      </div>

      <form id="loginForm" class="form">
        <input id="loginEmail" type="email" placeholder="Email" required />
        <input id="loginPassword" type="password" placeholder="Senha" required />
        <button id="loginBtn" class="primary">Entrar</button>
      </form>

      <form id="signupForm" class="form hidden">
        <input id="signupName" type="text" placeholder="Nome" required />
        <input id="signupEmail" type="email" placeholder="Email" required />
        <input id="signupPassword" type="password" placeholder="Senha (mÃ­n 6)" required minlength="6" />
        <input id="signupInvite" type="text" placeholder="CÃ³digo de convite" required />
        <button id="signupBtn" class="primary">Criar conta</button>
      </form>

      <div class="small muted">Se recebes um convite, usa o cÃ³digo para te registares.</div>
    </section>

    <!-- MAIN APP -->
    <main id="mainApp" class="hidden">
      <header class="topbar">
        <div class="brand">
          <strong>ðŸ”¥ Foguinho</strong>
          <span class="muted small">privado Â· convites</span>
        </div>

        <div class="search-wrap">
          <input id="searchInput" placeholder="Procurar utilizadores..." />
        </div>

        <div class="actions">
          <button id="newInviteBtn" title="Gerar convite">âž• Convite</button>
          <button id="profileBtn" title="Perfil">Perfil</button>
          <button id="logoutBtn" title="Sair">Sair</button>
        </div>
      </header>

      <div class="layout">
        <!-- Left: feed -->
        <section class="feed">
          <div id="feedList" class="feed-list">
            <!-- cards de amigos / actividades -->
          </div>

          <div class="fogo-panel">
            <div id="bigFire" class="big-fire" title="Acende o foguinho">ðŸ”¥</div>
            <div class="fire-controls">
              <button id="registerTodayBtn">Registar Dia</button>
              <button id="sendFireBtn">Enviar foguinho a um amigo</button>
            </div>
            <div id="streakInfo" class="muted small">Streak: â€”</div>
          </div>
        </section>

        <!-- Right: sidebar -->
        <aside class="sidebar">
          <section class="card small">
            <h3>MissÃµes</h3>
            <ul id="missionsList" class="missions"></ul>
          </section>

          <section class="card small">
            <h3>Mensagens</h3>
            <div id="conversationsList" class="conversations"></div>
          </section>

          <section class="card small">
            <h3>Convites</h3>
            <div id="invitesList" class="invites"></div>
          </section>
        </aside>
      </div>
    </main>

    <!-- PROFILE / CHAT MODALS -->
    <div id="modals">
      <!-- Profile -->
      <div id="profileModal" class="modal hidden">
        <div class="modal-card">
          <h3>Perfil</h3>
          <div class="profile-row">
            <img id="profilePic" src="" alt="avatar" class="avatar" />
            <div>
              <input id="profileName" placeholder="Nome" />
              <input id="profileEmail" disabled />
              <input id="profilePicFile" type="file" accept="image/*" />
              <button id="saveProfileBtn">Guardar</button>
            </div>
          </div>
          <div class="muted small">PontuaÃ§Ã£o: <span id="profilePoints">0</span></div>
          <button class="closeModal" data-target="profileModal">Fechar</button>
        </div>
      </div>

      <!-- Chat -->
      <div id="chatModal" class="modal hidden">
        <div class="modal-card chat-card">
          <h3 id="chatTitle">Chat</h3>
          <div id="chatMessages" class="chat-messages"></div>
          <div class="chat-input">
            <input id="chatText" placeholder="Escreve..." />
            <button id="chatSendBtn">Enviar</button>
          </div>
          <button class="closeModal" data-target="chatModal">Fechar</button>
        </div>
      </div>

      <!-- Invite generator -->
      <div id="inviteModal" class="modal hidden">
        <div class="modal-card">
          <h3>Gerar convite</h3>
          <p class="muted small">Gera um cÃ³digo que poderÃ¡s partilhar. Quem usar o cÃ³digo poderÃ¡ registar-se.</p>
          <button id="generateInviteBtn">Gerar cÃ³digo</button>
          <div id="newInviteCode" class="muted"></div>
          <button class="closeModal" data-target="inviteModal">Fechar</button>
        </div>
      </div>

    </div>

  </div>

  <!-- Firebase + App JS -->
  <script type="module" src="app.js"></script>
</body>
</html>
